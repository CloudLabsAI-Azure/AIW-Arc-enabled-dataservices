# Exercise 4: Azure Arc enabled SQL Managed Instance

Duration: - 180 mins

In this exercise, you will create a SQL Managed Instance

## Task 1: Create SQL Managed Instance 

1. In the Azure Arc Data Controller dashboard, click on **+ New Instance**.

1. From the deployment options balde, select **Azure SQL managed instance - Azure Arc**. Accept the Privacy and license terms and click **Select** at the button.

   ![](images/sql-instance.png "Confirm")

1. In the Deploy **Azure SQL managed instance - Azure Arc blade**, enter the following information:

   **Under SQL Connection information**
   
   - **Instance name**: Enter arcsql
   
   - **Username**:  Enter arcsqluser
   
   - **Password**: Enter Password.1!!
   
   **SQL Instance settings**
  
   - **Core Request**: Enter 2
   
   - **Core Limit**: Enter 2.5
   
   - **Memory Request**: Enter 2.5
   
   - **Memory Limit**: Enter 2.5
   
     ![](images/sql-instance1.png "Confirm")
     
1. Click the **Deploy** button, this will start the deployment of the  **Azure SQL managed instance - Azure Arc** on the data controller.

1. The deployment of **Azure SQL managed instance - Azure Arc** will take about 10 minutes to complete, in this time you can explore through the commands in the notebook.

1. Once the installation is complete, in **Azure Arc Data Controller dashboard** under Azure Arc Resources you can see the newly created Azure Arc enabled SQL Managed Instance.

## Task 2: Connect to Azure Arc enabled SQL Managed Instance

In this task, you will learn how to connect to your newly created Azure Arc enabled SQL Managed Instance using Data Studio

1. In the **Azure Arc Data Controller dashboard**, under Azure Arc Resources click on your newly created SQL Managed Instance this will open  **SQL managed instance - Azure Arc Data Controller dashboard**.

1. Now in the **SQL managed instance - Azure Arc Data Controller dashboard**, copy the external endpoint value. 

1. In the Data studio page, in connections blade under servers click on **New Connection**.

1. Enter the following in the connection details page and click on **Connect**.

   - **Connection type** : Select Microsoft SQL Server
   
   - **Sever** : Paste the external end point value which you copied earlier
   
   - **Authentication type** : Select SQL Login
   
   - **User name** : Enter arcsqluser
   
   - **Password** : Enter Password.1!!
   
1. Now under servers 

## Task 3: Migrate: Restore Adventure Works DB from Blob Storage, SQL Server to MI

## Task 4: How to migrate from different cloud?

## Task 5: Monitor with Azure Data Studio
